{"mappings":"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","sources":["src/js/refs.js","src/js/carousel.js","src/index.js"],"sourcesContent":["export const refs = {\n  logo: document.querySelector(\".navigation__logo\"),\n  searchBox: document.querySelector(\".search__box\"),\n  homeButton: document.querySelector(\".navigation__home\"),\n  libraryButton: document.querySelector(\".navigation__library\"),\n  watchedButton: document.querySelector(\".button__watched\"),\n  queueButton: document.querySelector(\".button__queue\"),\n  gallery: document.querySelector(\".gallery\"),\n  galleryCards: document.querySelectorAll(\".gallery__card\"),\n  carousel: document.querySelector(\".carousel__container\"),\n  modalBackground: document.querySelector(\".overlay\"),\n  modalClose: document.querySelector(\".modal__close\"),\n  modalWatch: document.querySelector(\".modal__watch\"),\n  modalQueue: document.querySelector(\".modal__queue\"),\n  pageCurrent: 15,\n  pageMax: 20,\n};\n","import { refs } from \"./refs\";\n\nexport function carouselListener() {\n  refs.carousel.addEventListener(\"click\", (event) => {\n    switch (true) {\n      case event.target.classList.contains(\"carousel__left\") ||\n        event.target.classList.contains(\"arrow__left\"):\n        if (refs.pageCurrent > 1) {\n          refs.pageCurrent -= 1;\n          carouselRender(refs.pageCurrent, refs.pageMax);\n\n          simulator.pageSimulator(); //Script to refresh page goes here\n        }\n        break;\n\n      case event.target.classList.contains(\"carousel__right\") ||\n        event.target.classList.contains(\"arrow__right\"):\n        if (refs.pageCurrent < refs.pageMax) {\n          refs.pageCurrent += 1;\n          carouselRender(refs.pageCurrent, refs.pageMax);\n\n          simulator.pageSimulator(); //Script to refresh page goes here\n        }\n        break;\n\n      case event.target.classList.contains(\"more__right\"):\n        if (refs.pageCurrent <= refs.pageMax - 5) {\n          refs.pageCurrent += 5;\n          carouselRender(refs.pageCurrent, refs.pageMax);\n\n          simulator.pageSimulator(); //Script to refresh page goes here\n        } else {\n          refs.pageCurrent = refs.pageMax;\n          carouselRender(refs.pageCurrent, refs.pageMax);\n\n          simulator.pageSimulator(); //Script to refresh page goes here\n        }\n        break;\n\n      case event.target.classList.contains(\"more__left\"):\n        if (refs.pageCurrent > 5) {\n          refs.pageCurrent -= 5;\n          carouselRender(refs.pageCurrent, refs.pageMax);\n\n          simulator.pageSimulator(); //Script to refresh page goes here\n        } else {\n          refs.pageCurrent = 1;\n          carouselRender(refs.pageCurrent, refs.pageMax);\n\n          simulator.pageSimulator(); //Script to refresh page goes here\n        }\n        break;\n\n      case event.target.classList.contains(\"carousel__number\"):\n        let pageNumber = parseInt(event.target.textContent);\n        refs.pageCurrent = pageNumber;\n        carouselRender(refs.pageCurrent, refs.pageMax);\n\n        simulator.pageSimulator(); //Script to refresh page goes here\n\n        break;\n    }\n  });\n}\n\nexport function carouselResizing() {\n  const onResize = (observerEntries) => {\n    observerEntries.forEach(({ target }) => {\n      carouselRender(refs.pageCurrent, refs.pageMax);\n    });\n  };\n\n  const resizeObserver = new ResizeObserver(onResize);\n\n  resizeObserver.observe(refs.carousel);\n}\n\nexport function carouselRender(page, totalPages) {\n  if (page <= totalPages && page >= 1) {\n    const carouselContent = document.querySelector(\".carousel__content\");\n    const numberArray = [];\n    const shortArray = [page - 2, page - 1, page, page + 1, page + 2];\n    var cutOffLeft = null;\n    var cutOffRight = null;\n    var contentWidth = carouselContent.getBoundingClientRect().width;\n\n    const numberPopulate = (number) => {\n      let carouselNumber = document.createElement(\"div\");\n      carouselNumber.textContent = number;\n      carouselNumber.classList.add(\"carousel__number\");\n      if (number == page) {\n        carouselNumber.classList.add(\"selected\");\n      }\n      carouselContent.appendChild(carouselNumber);\n    };\n\n    carouselContent.innerHTML = \"\";\n\n    for (let i = 1; i <= totalPages; i += 1) {\n      numberArray.push(i);\n    }\n    if (contentWidth >= 290) {\n      switch (true) {\n        case totalPages <= 10:\n          numberArray.forEach(numberPopulate);\n          break;\n\n        case page < 7:\n          cutOffRight = numberArray.indexOf(9);\n          numberArray.splice(cutOffRight, numberArray.length - 1);\n          numberArray.forEach(numberPopulate);\n          numberArray.length = totalPages - 3;\n          carouselContent.insertAdjacentHTML(\n            \"beforeend\",\n            `<div class=\"carousel__number more__right\">...</div>\n      <div class=\"carousel__number corner\">${totalPages}</div>`\n          );\n          break;\n\n        case totalPages - page < 5:\n          let toPad = 4 - (totalPages - page);\n          cutOffLeft = numberArray.indexOf(page - (2 + toPad));\n          numberArray.splice(0, cutOffLeft);\n          carouselContent.insertAdjacentHTML(\n            \"beforeend\",\n            `<div class=\"carousel__number corner\">1</div>\n        <div class=\"carousel__number more__left\">...</div>`\n          );\n          numberArray.forEach(numberPopulate);\n          break;\n\n        default:\n          cutOffLeft = numberArray.indexOf(page - 2);\n          numberArray.splice(0, cutOffLeft);\n          cutOffRight = numberArray.indexOf(page + 3);\n          numberArray.splice(cutOffRight, numberArray.length - 1);\n          carouselContent.insertAdjacentHTML(\n            \"beforeend\",\n            `<div class=\"carousel__number corner\">1</div>\n        <div class=\"carousel__number more__left\">...</div>`\n          );\n          numberArray.forEach(numberPopulate);\n          carouselContent.insertAdjacentHTML(\n            \"beforeend\",\n            `<div class=\"carousel__number more__right\">...</div>\n      <div class=\"carousel__number corner\">${totalPages}</div>`\n          );\n          break;\n      }\n    } else {\n      switch (true) {\n        case totalPages < 6:\n          numberArray.forEach(numberPopulate);\n          break;\n\n        case page < 3:\n          cutOffLeft = 3 - page;\n          shortArray.splice(0, cutOffLeft);\n          for (let i = 1; i <= cutOffLeft; i += 1) {\n            shortArray.push(shortArray[shortArray.length - 1] + 1);\n          }\n          shortArray.forEach(numberPopulate);\n          break;\n\n        case totalPages - page < 2:\n          cutOffRight = 2 - 1 * (totalPages - page);\n          for (let i = 1; i <= cutOffRight; i += 1) {\n            shortArray.unshift(page - 2 - i);\n          }\n          shortArray.length = shortArray.length - cutOffRight;\n          shortArray.forEach(numberPopulate);\n          break;\n\n        default:\n          shortArray.forEach(numberPopulate);\n          break;\n      }\n    }\n  } else {\n    console.error(\n      `Requested page (${page}) is out of range (total pages: ${totalPages})`\n    );\n    return;\n  }\n}\n","import { refs } from \"./js/refs\";\nimport {\n  carouselListener,\n  carouselResizing,\n  carouselRender,\n} from \"./js/carousel\";\n\n// Initial gallery population function goes here\n\nmodalListener();\n\nrefs.logo.addEventListener(\"click\", (event) => {\n  event.preventDefault();\n  document.body.className = \"home watched\";\n\n  simulator.pageSimulator(); //Gallery population function for this page goes here\n\n  console.log(\"Populating Home page\");\n});\n\nrefs.homeButton.addEventListener(\"click\", (event) => {\n  event.preventDefault();\n  document.body.classList.replace(\"library\", \"home\");\n\n  simulator.pageSimulator(); //Gallery population function for this page goes here\n\n  console.log(\"Populating Home page\");\n});\n\nrefs.libraryButton.addEventListener(\"click\", (event) => {\n  event.preventDefault();\n  document.body.classList.replace(\"home\", \"library\");\n\n  simulator.pageSimulator(); //Gallery population function for this page goes here\n\n  console.log(\"Populating Library Watched page\");\n});\n\nrefs.watchedButton.addEventListener(\"click\", () => {\n  document.body.classList.replace(\"queue\", \"watched\");\n\n  simulator.pageSimulator(); //Gallery population function for this page goes here\n\n  console.log(\"Populating Library Watched page\");\n});\n\nrefs.queueButton.addEventListener(\"click\", () => {\n  document.body.classList.replace(\"watched\", \"queue\");\n\n  simulator.pageSimulator(); //Gallery population function for this page goes here\n\n  console.log(\"Populating Library Queue page\");\n});\n\nfunction modalListener() {\n  const modalOpener = (event) => {\n    let dataSource = event.currentTarget.querySelector(\"img\").dataset.page;\n    document.body.classList.toggle(\"modal-on\");\n\n    simulator.modalSimulator(); // Modal population function goes here. Don't forget the spinner.\n\n    console.log(\"Get your link to data for modal here: \" + dataSource);\n    modalCloser();\n  };\n\n  refs.galleryCards = document.querySelectorAll(\".gallery__card\");\n\n  refs.galleryCards.forEach(\n    (element) => {\n      element.addEventListener(\"click\", modalOpener);\n    }\n\n    // For reasons unfathomable (array change?) JS doesn't want to remove event\n    // listeners through the same algorithm. It is not crucial as the cards will be\n    // loaded anew with each page change and will loose all their event listeners\n    // and observers. If it really is that important you can use this simple trick:\n    // element.replaceWith(element.cloneNode(true))\n  );\n}\n\n// Honestly see no reason to remove Event Listeners\n// They could be added at the start of the session\n// and they would stay on for the remainder.\n// My personal belief: adding and removing listeners\n// is more taxing on CPu than just letting them stay on.\n// But whatever. Here's the function:\n\nfunction modalCloser() {\n  const backgroundClose = (event) => {\n    if (event.target == event.currentTarget) {\n      document.body.classList.toggle(\"modal-on\");\n      refs.modalClose.removeEventListener(\"click\", crossClose);\n      window.removeEventListener(\"keydown\", modalEsc);\n      refs.modalBackground.removeEventListener(\"click\", backgroundClose);\n    }\n  };\n\n  const crossClose = (event) => {\n    document.body.classList.toggle(\"modal-on\");\n    refs.modalBackground.removeEventListener(\"click\", backgroundClose);\n    window.removeEventListener(\"keydown\", modalEsc);\n    refs.modalClose.removeEventListener(\"click\", crossClose);\n  };\n\n  const modalEsc = (event) => {\n    if (event.key === \"Escape\") {\n      if (document.body.classList.contains(\"modal-on\")) {\n        document.body.classList.toggle(\"modal-on\");\n        refs.modalBackground.removeEventListener(\"click\", backgroundClose);\n        refs.modalClose.removeEventListener(\"click\", crossClose);\n        window.removeEventListener(\"keydown\", modalEsc);\n      }\n    }\n  };\n\n  refs.modalBackground.addEventListener(\"click\", backgroundClose);\n\n  refs.modalClose.addEventListener(\"click\", crossClose);\n\n  window.addEventListener(\"keydown\", modalEsc);\n}\n\n// And here are modal button listeners that will stay on\n// for the remainder of the session. And nothing bad will\n// happen. I prefer this way better.\n\nrefs.modalWatch.addEventListener(\"click\", () => {\n  // Watch list update function goes here\n  console.log(\"Adding to watch list\");\n});\n\nrefs.modalQueue.addEventListener(\"click\", () => {\n  // Queue update function goes here\n  console.log(\"Adding to queue\");\n});\n\n// Lazy load below. It currently doesn't work as Parcel works\n// in mysterious ways. Will work with external image links though.\n// Meanwhile the main script has been commented out.\n\nfunction lazyLoad() {\n  refs.galleryCards = document.querySelectorAll(\".gallery__card\");\n\n  var firstItem = document.querySelector(\".gallery__card\");\n\n  var itemGap = [\n    ...document.defaultView.getComputedStyle(firstItem.parentElement).gap,\n  ];\n  itemGap = parseInt(`${itemGap[0]}${itemGap[1]}`);\n\n  var itemSize = `${\n    Math.ceil(firstItem.getBoundingClientRect().height) + itemGap\n  }px`;\n\n  const onEntry = (observerEntries) => {\n    observerEntries.forEach(({ target, isIntersecting }) => {\n      if (isIntersecting) {\n        let source = target.firstElementChild.dataset.source;\n        target.firstElementChild.src = source;\n      }\n    });\n  };\n\n  const observerOptions = { root: null, rootMargin: itemSize };\n\n  const observer = new IntersectionObserver(onEntry, observerOptions);\n\n  refs.galleryCards.forEach((element) => {\n    observer.unobserve(element);\n    observer.observe(element);\n  });\n}\n\nlazyLoad();\n\n// Pages selector functions\n\ncarouselListener();\n\ncarouselResizing();\n\ncarouselRender(refs.pageCurrent, refs.pageMax);\n\n// Simulator stuff\n\nglobal.simulator = {\n  pageSimulator() {\n    let i = null;\n\n    refs.gallery.innerHTML = \"\";\n    i = 0;\n\n    do {\n      refs.gallery.insertAdjacentHTML(\n        \"beforeend\",\n        `<li class=\"template\"></li>`\n      );\n      i += 1;\n    } while (i < 24);\n\n    setTimeout(() => {\n      i = 0;\n      refs.gallery.innerHTML = \"\";\n      do {\n        refs.gallery.insertAdjacentHTML(\n          \"beforeend\",\n          `<li class=\"gallery__card\">\n          <img\n            src=\"\"\n            data-source=\"https://image.tmdb.org/t/p/original/fGfZHAhpJP6irMF1dHHtbu0RfXa.jpg\"\n            data-page=\"homepage\"\n            alt=\"Servant of the People\"\n            class=\"https://www.themoviedb.org/tv/64480\"\n          />\n          <div class=\"gallery__data\">\n            <div class=\"gallery__name\">Servant of the People</div>\n            <div class=\"gallery__stats\">\n              <p class=\"gallery__details\">Documentary | 2015</p>\n              <div class=\"gallery__rating\">9.5</div>\n            </div>\n          </div>\n        </li>\n          `\n        );\n        i += 1;\n      } while (i < 24);\n      lazyLoad();\n      modalListener();\n    }, 1000);\n  },\n  modalSimulator() {\n    refs.modalBackground.classList.add(\"loading\");\n\n    setTimeout(() => {\n      refs.modalBackground.classList.remove(\"loading\");\n    }, 1000);\n  },\n};\n\nsimulator.pageSimulator();\n"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","logo","document","querySelector","searchBox","homeButton","libraryButton","watchedButton","queueButton","gallery","galleryCards","querySelectorAll","carousel","modalBackground","modalClose","modalWatch","modalQueue","pageCurrent","pageMax","$0d260286e6b745c0$export$65e1111a55537f79","page","totalPages","carouselContent","numberArray","shortArray","cutOffLeft","cutOffRight","contentWidth","getBoundingClientRect","width","numberPopulate","number","carouselNumber","createElement","textContent","classList","add","appendChild","innerHTML","i","push","forEach","indexOf","splice","length","insertAdjacentHTML","toPad","i1","i2","unshift","console","error","$1f0dc3b9307be026$var$modalListener","modalOpener","event","dataSource","currentTarget","dataset","body","toggle","simulator","modalSimulator","log","backgroundClose","target","removeEventListener","crossClose","window","modalEsc","key","contains","addEventListener","$1f0dc3b9307be026$var$modalCloser","element","$1f0dc3b9307be026$var$lazyLoad","firstItem","itemGap","defaultView","getComputedStyle","parentElement","gap","parseInt","itemSize","Math","ceil","height","observer","IntersectionObserver","observerEntries","isIntersecting","source","firstElementChild","src","root","rootMargin","unobserve","observe","preventDefault","className","pageSimulator","replace","pageNumber","ResizeObserver","$parcel$global","setTimeout","remove"],"version":3,"file":"index.0407323d.js.map"}