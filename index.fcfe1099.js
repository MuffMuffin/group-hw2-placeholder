!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};const a={logo:document.querySelector(".navigation__logo"),searchBox:document.querySelector(".search__box"),homeButton:document.querySelector(".navigation__home"),libraryButton:document.querySelector(".navigation__library"),watchedButton:document.querySelector(".button__watched"),queueButton:document.querySelector(".button__queue"),gallery:document.querySelector(".gallery"),galleryCards:document.querySelectorAll(".gallery__card"),carousel:document.querySelector(".carousel__container"),modalBackground:document.querySelector(".overlay"),modalClose:document.querySelector(".modal__close"),modalWatch:document.querySelector(".modal__watch"),modalQueue:document.querySelector(".modal__queue"),pageCurrent:15,pageMax:20};function t(e,a){if(e<=a&&e>=1){const l=document.querySelector(".carousel__content"),n=[],c=[e-2,e-1,e,e+1,e+2];var t=null,o=null,r=l.getBoundingClientRect().width;const s=a=>{let t=document.createElement("div");t.textContent=a,t.classList.add("carousel__number"),a==e&&t.classList.add("selected"),l.appendChild(t)};l.innerHTML="";for(let e=1;e<=a;e+=1)n.push(e);if(r>=290)switch(!0){case a<=10:n.forEach(s);break;case e<7:o=n.indexOf(9),n.splice(o,n.length-1),n.forEach(s),n.length=a-3,l.insertAdjacentHTML("beforeend",`<div class="carousel__number more__right">...</div>\n      <div class="carousel__number corner">${a}</div>`);break;case a-e<5:let r=4-(a-e);t=n.indexOf(e-(2+r)),n.splice(0,t),l.insertAdjacentHTML("beforeend",'<div class="carousel__number corner">1</div>\n        <div class="carousel__number more__left">...</div>'),n.forEach(s);break;default:t=n.indexOf(e-2),n.splice(0,t),o=n.indexOf(e+3),n.splice(o,n.length-1),l.insertAdjacentHTML("beforeend",'<div class="carousel__number corner">1</div>\n        <div class="carousel__number more__left">...</div>'),n.forEach(s),l.insertAdjacentHTML("beforeend",`<div class="carousel__number more__right">...</div>\n      <div class="carousel__number corner">${a}</div>`)}else switch(!0){case a<6:n.forEach(s);break;case e<3:t=3-e,c.splice(0,t);for(let e=1;e<=t;e+=1)c.push(c[c.length-1]+1);c.forEach(s);break;case a-e<2:o=2-1*(a-e);for(let a=1;a<=o;a+=1)c.unshift(e-2-a);c.length=c.length-o,c.forEach(s);break;default:c.forEach(s)}}else console.error(`Requested page (${e}) is out of range (total pages: ${a})`)}function o(){const e=e=>{let t=e.currentTarget.querySelector("img").dataset.page;document.body.classList.toggle("modal-on"),simulator.modalSimulator(),console.log("Get your link to data for modal here: "+t),function(){const e=r=>{r.target==r.currentTarget&&(document.body.classList.toggle("modal-on"),a.modalClose.removeEventListener("click",t),window.removeEventListener("keydown",o),a.modalBackground.removeEventListener("click",e))},t=r=>{document.body.classList.toggle("modal-on"),a.modalBackground.removeEventListener("click",e),window.removeEventListener("keydown",o),a.modalClose.removeEventListener("click",t)},o=r=>{"Escape"===r.key&&document.body.classList.contains("modal-on")&&(document.body.classList.toggle("modal-on"),a.modalBackground.removeEventListener("click",e),a.modalClose.removeEventListener("click",t),window.removeEventListener("keydown",o))};a.modalBackground.addEventListener("click",e),a.modalClose.addEventListener("click",t),window.addEventListener("keydown",o)}()};(a.galleryCards=document.querySelectorAll(".gallery__card")).forEach((a=>{a.addEventListener("click",e)}))}function r(){a.galleryCards=document.querySelectorAll(".gallery__card");var e=document.querySelector(".gallery__card"),t=[...document.defaultView.getComputedStyle(e.parentElement).gap];t=parseInt(`${t[0]}${t[1]}`);var o=`${Math.ceil(e.getBoundingClientRect().height)+t}px`;const r=new IntersectionObserver((e=>{e.forEach((({target:e,isIntersecting:a})=>{if(a){let a=e.firstElementChild.dataset.source;e.firstElementChild.src=a}}))}),{root:null,rootMargin:o});a.galleryCards.forEach((e=>{r.unobserve(e),r.observe(e)}))}o(),a.logo.addEventListener("click",(e=>{e.preventDefault(),document.body.className="home watched",simulator.pageSimulator(),console.log("Populating Home page")})),a.homeButton.addEventListener("click",(e=>{e.preventDefault(),document.body.classList.replace("library","home"),simulator.pageSimulator(),console.log("Populating Home page")})),a.libraryButton.addEventListener("click",(e=>{e.preventDefault(),document.body.classList.replace("home","library"),simulator.pageSimulator(),console.log("Populating Library Watched page")})),a.watchedButton.addEventListener("click",(()=>{document.body.classList.replace("queue","watched"),simulator.pageSimulator(),console.log("Populating Library Watched page")})),a.queueButton.addEventListener("click",(()=>{document.body.classList.replace("watched","queue"),simulator.pageSimulator(),console.log("Populating Library Queue page")})),a.modalWatch.addEventListener("click",(()=>{console.log("Adding to watch list")})),a.modalQueue.addEventListener("click",(()=>{console.log("Adding to queue")})),r(),a.carousel.addEventListener("click",(e=>{switch(!0){case e.target.classList.contains("carousel__left")||e.target.classList.contains("arrow__left"):a.pageCurrent>1&&(t(a.pageCurrent-=1,a.pageMax),simulator.pageSimulator());break;case e.target.classList.contains("carousel__right")||e.target.classList.contains("arrow__right"):a.pageCurrent<a.pageMax&&(t(a.pageCurrent+=1,a.pageMax),simulator.pageSimulator());break;case e.target.classList.contains("more__right"):a.pageCurrent<=a.pageMax-5?(t(a.pageCurrent+=5,a.pageMax),simulator.pageSimulator()):(t(a.pageCurrent=a.pageMax,a.pageMax),simulator.pageSimulator());break;case e.target.classList.contains("more__left"):a.pageCurrent>5?(t(a.pageCurrent-=5,a.pageMax),simulator.pageSimulator()):(t(a.pageCurrent=1,a.pageMax),simulator.pageSimulator());break;case e.target.classList.contains("carousel__number"):let o=parseInt(e.target.textContent);t(a.pageCurrent=o,a.pageMax),simulator.pageSimulator()}})),new ResizeObserver((e=>{e.forEach((({target:e})=>{t(a.pageCurrent,a.pageMax)}))})).observe(a.carousel),t(a.pageCurrent,a.pageMax),e.simulator={pageSimulator(){let e=null;a.gallery.innerHTML="",e=0;do{a.gallery.insertAdjacentHTML("beforeend",'<li class="template"></li>'),e+=1}while(e<24);setTimeout((()=>{e=0,a.gallery.innerHTML="";do{a.gallery.insertAdjacentHTML("beforeend",'<li class="gallery__card">\n          <img\n            src=""\n            data-source="https://image.tmdb.org/t/p/original/fGfZHAhpJP6irMF1dHHtbu0RfXa.jpg"\n            data-page="homepage"\n            alt="Servant of the People"\n            class="https://www.themoviedb.org/tv/64480"\n          />\n          <div class="gallery__data">\n            <div class="gallery__name">Servant of the People</div>\n            <div class="gallery__stats">\n              <p class="gallery__details">Documentary | 2015</p>\n              <div class="gallery__rating">9.5</div>\n            </div>\n          </div>\n        </li>\n          '),e+=1}while(e<24);r(),o()}),1e3)},modalSimulator(){a.modalBackground.classList.add("loading"),setTimeout((()=>{a.modalBackground.classList.remove("loading")}),1e3)}},simulator.pageSimulator()}();
//# sourceMappingURL=index.fcfe1099.js.map
